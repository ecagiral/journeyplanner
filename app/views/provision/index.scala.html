@(lines: List[LineData])
@import helper._

@main("Welcome") {
 	@header("index") 
 	<div class="row" >
		<div style="height:400px;" class="col-md-9" id="map-canvas"></div>
		<div class="col-md-3">
			<div id="allLineList">
				All lines
			    <ul>
			        @lines.map { line =>
			            <li style="cursor:pointer" data-line="@line.id">
			                @line.label
			            </li>
			        }
			    </ul>
			    <h4>Add a new line</h4>
			    <form action="" method="post" id="addLineForm">
				    <input type='text' name="label" value="isim">
				    <input type="text" name="period" value="0">
				    <br/>
				    <select name="lineType">
					  <option value="1">otobus</option>
					  <option value="2">minibus</option>
					  <option value="3">vapur</option>
					  <option value="4">metro</option>
					  <option value="5">metrobus</option>
					</select>
					<br/>
					<input type="submit" value="Add">
				</form>
			</div>
			<div id="nodeLineList">
				<span></span> lines
			    <ul>

			    </ul>
			    
			</div>
			<div id="edgeLineList">
			    <span></span> lines
			    <ul>

			    </ul>
			    <h4>Add a new line</h4>
			    <form action="" method="post" id="addEdgeForm">
			    	Line: <select name="line">
			    		@lines.map { line =>
			            	<option value="@line.id">@line.label</option>
			        	}
					</select><br/>				
				    Distance: <input type="text" name="distance" value="0" maxlength="5" size="5"><br/>
				    Duration: <input type="text" name="duration" value="0" maxlength="5" size="5"><br/>
				    <input type="hidden" name="sourceNode" value="0">
				    <input type="hidden" name="targetNode" value="0">					   
					<input type="submit" value="Add">
				</form>
			</div>
		</div>
	</div>
	

}

<script src="@routes.Assets.at("javascripts/provision.js")" type="text/javascript"></script>
<script>
	$(document).ready(function(){
	    $("#addLineForm").submit(function(event) {
	        event.preventDefault();
	        addLine($("#addLineForm").serializeObject());
	    });
	    
	    $("#addEdgeForm").submit(function(event) {
	        event.preventDefault();
	        addEdge($("#addEdgeForm").serializeObject());
	    });
	    
	    
	    $("#allLineList ul li").on('click',function(event) {
	    	getLine($(this).data("line"));
	    });
	    
	    $("#nodeLineList ul li").on('click',function(event) {
	    	getLine($(this).data("line"));
	    });
	});	
</script>